---
version: "3"

vars:
  CLUSTER_DIR: "{{.ROOT_DIR}}/kubernetes"
  ANSIBLE_DIR: "{{.ROOT_DIR}}/ansible"

env:
  KUBECONFIG: ./kubeconfig

dotenv: [".env"]

includes:
  ansible: .taskfiles/ansible.yaml
  db: .taskfiles/database.yaml
  secret: .taskfiles/externalsecrets.yaml
  flux: .taskfiles/flux.yaml
  kubernetes: .taskfiles/kubernetes.yaml
  proxmox: .taskfiles/proxmox.yaml
  vault: .taskfiles/vault.yaml
  volsync: .taskfiles/volsync/Tasks.yaml

tasks:

  default:
    silent: true
    cmds: ["task -l"]
